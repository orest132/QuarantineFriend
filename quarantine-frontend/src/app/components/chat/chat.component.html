<!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />


            <div class="chat">
                <div class="chat-header clearfix">
                    <div class="row">
                        The chat
                    </div>
                </div>
                <div class="chat-history" *ngIf="messages!=null">
                    <ul class="m-b-0" *ngFor="let message of messages">
                        <li class="clearfix">
                            <div class="message-data text-right">
                                <img src="{{message.user.imageUrl}}" alt="avatar">
                                <div>{{message.user.username}}</div>
                            </div>
                            <div class="message other-message float-right"> {{message.message}} </div>
                        </li>
                    </ul>
                </div>
                <div class="rel-wrapper">
                    <div class="fixed-wrapper">
                    <div class="chat-message clearfix">
                        <div class="input-group mb-0 input">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-send"></i></span>
                            </div>
                            <input type="text" class="form-control" placeholder="Enter text here..." (keyup.enter)="onEnter($event)">
                        </div>
                    </div>
                    </div>
                </div>


            </div>
         -->
<div class="thewrap">
  <div class="overwrap" #overwrap>
    <button
      (click)="openCloseChat()"
      mat-fab
      color="warn"
      *ngIf="open"
      class="mb-1"
    >
      <mat-icon>close</mat-icon>
    </button>
    <section class="chatbox" *ngIf="open">
      <section class="chat-window" #scrollMe>
        <div *ngFor="let message of messages">
          <ng-template #right>
            <article class="msg-container msg-self">
              <div class="msg-box">
                <div class="flr">
                  <div class="messages">
                    <p class="msg">
                      {{ message.message }}
                    </p>
                  </div>
                  <span class="timestamp"
                    ><span class="username"
                      >{{ message.user.firstName }}
                      {{ message.user.lastName }}</span
                    ><!--&bull;<span class="posttime">Now</span> -->
                  </span>
                </div>
                <img class="user-img" src="{{ message.user.imageUrl }}" />
              </div>
            </article>
          </ng-template>
          <div *ngIf="userLoggedIn.id != message.user.id; else right">
            <article class="msg-container msg-remote">
              <div class="msg-box">
                <img class="user-img" src="{{ message.user.imageUrl }}" />
                <div class="flr">
                  <div class="messages">
                    <p class="msg">
                      {{ message.message }}
                    </p>
                  </div>
                  <span class="timestamp"
                    ><span class="username"
                      >{{ message.user.firstName }}
                      {{ message.user.lastName }}</span
                    ><!--&bull;<span class="posttime">3 minutes ago</span>--></span
                  >
                </div>
              </div>
            </article>
          </div>
        </div>
      </section>
      <form class="chat-input" onsubmit="return false;">
        <input
          #input
          type="text"
          autocomplete="on"
          placeholder="Type a message"
        />
        <button (click)="onClick()">
          <svg style="width: 24px; height: 24px" viewBox="0 0 24 24">
            <path
              fill="rgba(0,0,0,.38)"
              d="M17,12L12,17V14H8V10H12V7L17,12M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5M12,4.15L5,8.09V15.91L12,19.85L19,15.91V8.09L12,4.15Z"
            />
          </svg>
        </button>
      </form>
    </section>
  </div>
  <button
    (click)="openCloseChat()"
    mat-fab
    color="primary"
    aria-label="Example icon button with a home icon"
    *ngIf="!open"
  >
    <mat-icon>chat</mat-icon>
  </button>
</div>
